const fs = require('fs');
const path = require('path');

// 기본 PNG 이미지 생성 (최소 단계: 흰색 1x1 픽셀)
const createMinimalPNG = () => {
  // PNG 헤더 (흰색 배경의 1x1 픽셀)
  const png = Buffer.from([
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, // PNG 서명
    0x00, 0x00, 0x00, 0x0d, // IHDR 길이
    0x49, 0x48, 0x44, 0x52, // IHDR
    0x00, 0x00, 0x00, 0x01, // 너비: 1
    0x00, 0x00, 0x00, 0x01, // 높이: 1
    0x08, 0x02, 0x00, 0x00, 0x00, // 비트 깊이: 8, 컬러 타입: RGB
    0x90, 0x77, 0x53, 0xde, // CRC
    0x00, 0x00, 0x00, 0x0c, // IDAT 길이
    0x49, 0x44, 0x41, 0x54, // IDAT
    0x08, 0x99, 0x01, 0x01, 0x00, 0x00, 0xfe, 0xff, 0xff, 0xff, 0xff,
    0x5e, 0x41, 0xda,
    0xd4, 0x3c, 0x6d, // CRC
    0x00, 0x00, 0x00, 0x00, // IEND 길이
    0x49, 0x45, 0x4e, 0x44, // IEND
    0xae, 0x42, 0x60, 0x82  // CRC
  ]);
  return png;
};

const assetsDir = path.join(__dirname, 'assets');

// assets 폴더 생성
if (!fs.existsSync(assetsDir)) {
  fs.mkdirSync(assetsDir, { recursive: true });
}

// icon.png 생성
const iconPath = path.join(assetsDir, 'icon.png');
fs.writeFileSync(iconPath, createMinimalPNG());
console.log('✅ icon.png created');

// splash.png 생성
const splashPath = path.join(assetsDir, 'splash.png');
fs.writeFileSync(splashPath, createMinimalPNG());
console.log('✅ splash.png created');

console.log('\n✨ Assets created successfully!');
