# ì£¼ë‹˜ì˜ êµíšŒ ìŠ¤ë§ˆíŠ¸ í–‰ì • ì•±

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

êµíšŒì˜ í–‰ì • ì—…ë¬´(ì¶œì„ ì²´í¬, ì¬ì • ê²°ì œ)ë¥¼ **ë””ì§€í„¸ ë° AI ê¸°ë°˜ìœ¼ë¡œ ì „í™˜**í•˜ì—¬ ì¢…ì‚¬ìì™€ êµì¸ì˜ ì—…ë¬´ ë¶€ë‹´ì„ ê²½ê°í•˜ê³  íš¨ìœ¨ì„±ì„ ì œê³ í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ í–‰ì • ì•±ì…ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ì§€ì˜¤íœì‹± ê¸°ë°˜ ì¶œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ
- **ìœ„ì¹˜ ê¸°ë°˜ ì¶œì„**: êµíšŒ ì¢Œí‘œ(2ê°œ ì§€ë¶€)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë°˜ê²½ 30ë¯¸í„° ê²½ê³„ ì„¤ì •
- **ìë™ í™œì„±í™”**: ê²½ê³„ ë‚´ ì§„ì… ì‹œ 'ì¶œì„'/'í‡´ì²­' ë²„íŠ¼ ìë™ í™œì„±í™”
- **ìë™ í‡´ì²­**: ì¶œì„ í›„ 5ì‹œê°„ í›„ ìë™ìœ¼ë¡œ í‡´ì²­ ì²˜ë¦¬
- **ë°±ê·¸ë¼ìš´ë“œ ì¶”ì **: ì•±ì´ êº¼ì ¸ ìˆì–´ë„ ìœ„ì¹˜ ê¶Œí•œ ë™ì˜ í•˜ì— ì§„ì… ê°ì§€
- **ì‹¤ì‹œê°„ ëª…ë‹¨**: ì¶œì„ìë¥¼ í‰ë©´ì  ë°ì´í„° êµ¬ì¡°ë¡œ ì‹¤ì‹œê°„ í‘œì‹œ

### 2. AI-OCR ê¸°ë°˜ ì§€ì¶œê²°ì˜ ì‹œìŠ¤í…œ
- **ìë™ ì¸ì‹**: ì˜ìˆ˜ì¦ ì‚¬ì§„ ì´¬ì˜ â†’ AI-OCRìœ¼ë¡œ í•­ëª©/ê¸ˆì•¡/ë‚ ì§œ ìë™ ë¶„ì„
- **ì „ìê²°ì¬**: ì‘ì„±ì â†’ ë¶€ì¥(1ì°¨) â†’ ëª©ì‚¬(ìµœì¢…) ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°
- **í†µê³„ ë¦¬í¬íŠ¸**: ì›”ë³„/ì¼ë³„/ê¸°ê°„ë³„ ì§€ì¶œ í•©ê³„ ì‹œê°í™”

### 3. ê´€ë¦¬ì í˜ì´ì§€
- **íšŒì› ë“±ë¡**: ì§ë¶„ë³„ íšŒì› ê´€ë¦¬ (êµì¸, ì§‘ì‚¬, ê¶Œì‚¬, ì¥ë¡œ, ì‹¬ë°©ì¥, ì „ë„ì‚¬, ëª©ì‚¬)
- **ê²°ì¬ì„  ì„¤ì •**: 1 â†’ 2 â†’ 3 í˜•ì‹ì˜ ê²°ì¬ ë¼ì¸ ì„¤ì •
- **ì¬ì • ì¡°íšŒ**: ê¸°ê°„ë³„ í†µê³„ ë° ì§€ì¶œ í˜„í™© ëª¨ë‹ˆí„°ë§

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
church/
â”œâ”€â”€ backend/                 # Node.js/Express ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ models/         # MongoDB ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Attendance.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Expenditure.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalLine.js
â”‚   â”‚   â”‚   â””â”€â”€ ChurchLocation.js
â”‚   â”‚   â”œâ”€â”€ controllers/    # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ userController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ attendanceController.js
â”‚   â”‚   â”‚   â””â”€â”€ approvalLineController.js
â”‚   â”‚   â”œâ”€â”€ routes/         # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ userRoutes.js
â”‚   â”‚   â”‚   â”œâ”€â”€ attendanceRoutes.js
â”‚   â”‚   â”‚   â””â”€â”€ approvalLineRoutes.js
â”‚   â”‚   â”œâ”€â”€ middleware/     # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”‚   â””â”€â”€ auth.js
â”‚   â”‚   â””â”€â”€ config/         # ì„¤ì •
â”‚   â”‚       â”œâ”€â”€ database.js
â”‚   â”‚       â””â”€â”€ jwt.js
â”‚   â”œâ”€â”€ server.js           # Express ë©”ì¸ ì„œë²„
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env
â”‚
â”œâ”€â”€ frontend/               # React Native/Expo í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ screens/        # í™”ë©´ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginScreen.js
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceScreen.js
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminRegisterScreen.js
â”‚   â”‚   â”‚   â””â”€â”€ ApprovalLineManagementScreen.js
â”‚   â”‚   â”œâ”€â”€ context/        # ì „ì—­ ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.js
â”‚   â”‚   â”œâ”€â”€ services/       # API í˜¸ì¶œ
â”‚   â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”‚   â”œâ”€â”€ navigation/     # ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”‚   â”‚   â””â”€â”€ Navigation.js
â”‚   â”‚   â””â”€â”€ utils/          # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ App.js              # ë©”ì¸ ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ app.json
â”‚   â””â”€â”€ babel.config.js
â”‚
â””â”€â”€ docs/                   # ë¬¸ì„œ
    â”œâ”€â”€ API.md              # API ë¬¸ì„œ
    â””â”€â”€ SETUP.md            # ì„¤ì¹˜ ê°€ì´ë“œ
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Runtime**: Node.js
- **Framework**: Express.js
- **Database**: MongoDB
- **Authentication**: JWT
- **Geofencing**: Haversine ê³µì‹
- **Real-time**: WebSocket (Socket.io)

### í”„ë¡ íŠ¸ì—”ë“œ
- **Framework**: React Native with Expo
- **Navigation**: React Navigation
- **Location**: expo-location, expo-task-manager
- **State Management**: React Context API
- **HTTP Client**: Axios

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ë°±ì—”ë“œ ì„¤ì •

```bash
cd backend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# .env íŒŒì¼ ìƒì„±
cp .env.example .env

# MongoDB ì‹œì‘ (ë¡œì»¬)
# mongod

# ì„œë²„ ì‹¤í–‰
npm start
# ë˜ëŠ” ê°œë°œ ëª¨ë“œ
npm run dev
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# Expo ì•± ì‹¤í–‰
npm start

# Android
npm run android

# iOS
npm run ios

# Web
npm run web
```

## ğŸ“± ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### ì¼ë°˜ êµì¸
1. **ë¡œê·¸ì¸**: ì‚¬ìš©ìëª…/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ + ë¡œê·¸ì¸ ìœ ì§€ ì²´í¬
2. **ì¶œì„ ì²´í¬**:
   - êµíšŒ ê²½ê³„(30m) ë‚´ ì§„ì… â†’ ìë™ ì•Œë¦¼
   - 'ì¶œì„' ë²„íŠ¼ í´ë¦­ â†’ DB ì €ì¥
   - 5ì‹œê°„ í›„ ìë™ í‡´ì²­
3. **ì‹¤ì‹œê°„ ëª…ë‹¨ í™•ì¸**: í˜„ì¬ ì¶œì„ì ëª©ë¡ ì¡°íšŒ

### ê´€ë¦¬ì
1. **íšŒì› ë“±ë¡**: ì§ë¶„ë³„ ì‚¬ìš©ì ì¶”ê°€
2. **ê²°ì¬ì„  ì„¤ì •**: 1ë‹¨ê³„ â†’ 2ë‹¨ê³„ â†’ 3ë‹¨ê³„ ê²°ì¬ì ì§€ì •
3. **ì§€ì¶œ ê²°ì˜ ìŠ¹ì¸**: ìƒíƒœë³„ ê²°ì˜ì„œ í™•ì¸ ë° ìŠ¹ì¸
4. **ì¬ì • í˜„í™©**: ì›”ë³„/ê¸°ê°„ë³„ í†µê³„ ì¡°íšŒ

## ğŸ” ë³´ì•ˆ

- **ì „ì†¡ ì•”í˜¸í™”**: HTTPS/TLS
- **ì €ì¥ ì•”í˜¸í™”**: AES-256 (ë¯¼ê° ì •ë³´)
- **ì¸ì¦**: JWT í† í° ê¸°ë°˜
- **ê¶Œí•œ ê´€ë¦¬**: Role-based Access Control (RBAC)
- **ê°œì¸ì •ë³´ ë³´í˜¸**: KISA ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜

## ğŸ“ êµíšŒ ìœ„ì¹˜ ì„¤ì •

| ì§€ë¶€ | ìœ„ë„ | ê²½ë„ |
|------|------|------|
| ê°•ì„œì§€ë¶€ | 37.6379499 | 126.8747216 |
| ì†¡íŒŒì§€ë¶€ | 37.5524510 | 126.8589197 |

- **ë°˜ê²½**: 30ë¯¸í„°
- **ê±°ë¦¬ ê³„ì‚°**: Haversine ê³µì‹ (ê°€ì¥ ê°€ê¹Œìš´ ì§€ë¶€ ê¸°ì¤€)

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### User (ì‚¬ìš©ì)
```javascript
{
  username: String,         // ë¡œê·¸ì¸ìš©
  password: String,         // ì•”í˜¸í™”ë¨
  name: String,             // ì´ë¦„
  position: String,         // ì§ë¶„
  region: String,           // êµ¬ì—­
  department: String,       // ì†Œì†
  permissions: {
    canApproveExpenditure: Boolean,  // 1ì°¨ ìŠ¹ì¸
    canFinalApprove: Boolean,        // ìµœì¢… ìŠ¹ì¸
    isAdmin: Boolean                 // ê´€ë¦¬ì
  },
  canSubmitExpenditure: Boolean,     // ì§€ì¶œ ê¶Œí•œ
  isActive: Boolean,
  createdAt: Date
}
```

### Attendance (ì¶œì„)
```javascript
{
  userId: ObjectId,
  userName: String,
  checkInTime: Date,
  checkOutTime: Date,
  status: 'Enum: ì¶œì„|í‡´ì²­',
  isAutoCheckOut: Boolean,  // ìë™ í‡´ì²­ ì—¬ë¶€
  durationMinutes: Number,  // ì²´ë¥˜ ì‹œê°„
  date: Date,
  createdAt: Date
}
```

### ApprovalLine (ê²°ì¬ì„ )
```javascript
{
  name: String,             // ê²°ì¬ì„ ëª…
  description: String,
  approvers: [
    {
      order: Number,        // 1, 2, 3...
      approverId: ObjectId,
      approverName: String,
      approverPosition: String
    }
  ],
  isActive: Boolean,
  createdAt: Date
}
```

## ğŸ”„ API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `POST /api/auth/register` - íšŒì›ê°€ì… (ê´€ë¦¬ìë§Œ)
- `GET /api/auth` - ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ (ê´€ë¦¬ìë§Œ)
- `PUT /api/auth/:id` - ì‚¬ìš©ì ìˆ˜ì • (ê´€ë¦¬ìë§Œ)

### ì¶œì„
- `POST /api/attendance/geofencing` - ì§€ì˜¤íœì‹± í™•ì¸
- `POST /api/attendance/check-in` - ì¶œì„ ì²´í¬ì¸
- `POST /api/attendance/check-out` - í‡´ì²­
- `GET /api/attendance/today` - ì˜¤ëŠ˜ ì¶œì„ì ëª…ë‹¨
- `GET /api/attendance/statistics` - ê¸°ê°„ë³„ í†µê³„

### ê²°ì¬ì„ 
- `POST /api/approval-lines` - ê²°ì¬ì„  ìƒì„± (ê´€ë¦¬ìë§Œ)
- `GET /api/approval-lines` - ê²°ì¬ì„  ì¡°íšŒ
- `PUT /api/approval-lines/:id` - ê²°ì¬ì„  ìˆ˜ì • (ê´€ë¦¬ìë§Œ)
- `DELETE /api/approval-lines/:id` - ê²°ì¬ì„  ì‚­ì œ (ê´€ë¦¬ìë§Œ)

## ğŸ¨ UI/UX ì„¤ê³„

### ê³ ë ¹ì¸µ ì¹œí™”ì 
- í° ê¸€ì”¨ (16pt ì´ìƒ)
- ë†’ì€ ëŒ€ë¹„ì˜ ìƒ‰ìƒ
- ì§ê´€ì ì¸ ì•„ì´ì½˜
- ê°„ë‹¨í•œ ë„¤ë¹„ê²Œì´ì…˜

### ë°˜ì‘í˜• ë””ìì¸
- iOS/Android ë™ì¼ ê²½í—˜
- ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸° ì§€ì›

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ ì‚¬ìš©ì„ ìœ„í•´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸ë‚˜ ê¸°ëŠ¥ ì œì•ˆì€ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“ ì—°ë½ì²˜

ê¸°ìˆ  ë¬¸ì˜: [ì´ë©”ì¼ ë˜ëŠ” ì—°ë½ì²˜]

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026ë…„ 1ì›” 28ì¼
